<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TempFileNames.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Emissary</a> &gt; <a href="index.source.html" class="el_package">emissary.util.shell</a> &gt; <span class="el_source">TempFileNames.java</span></div><h1>TempFileNames.java</h1><pre class="source lang-java linenums">package emissary.util.shell;

import emissary.util.io.FileManipulator;

import java.io.File;

/**
 * A related set file and directory path names suitable for operations that require temporary disk-backed files. The
 * names do not directly imply that corresponding files and directories actually exist; I/O operations including
 * creating or deletions of files or directories is the responsibility of TempFileNames instance consumers.
 */
public class TempFileNames {
    private final String tempDir;
    private final String base;
    private final String basePath;
    private final String in;
    private final String out;
    private final String inputFilename;
    private final String outputFilename;

    /**
     * Creates a new TempFileNames instance, using the same logic as the legacy{@link Executrix#makeTempFilenames()} API
     *
     * @param tmpDir configured temp directory for the server process
     * @param placeName place for which the names are needed
     * @param inFileEnding input file ending
     * @param outFileEnding output file ending
     */
<span class="fc" id="L29">    TempFileNames(String tmpDir, String placeName, String inFileEnding, String outFileEnding) {</span>
<span class="fc" id="L30">        base = Long.toString(System.nanoTime());</span>
<span class="fc" id="L31">        tempDir = FileManipulator.mkTempFile(tmpDir, placeName);</span>
<span class="fc" id="L32">        in = base + inFileEnding;</span>
<span class="fc" id="L33">        out = base + outFileEnding;</span>
<span class="fc" id="L34">        basePath = tempDir + File.separator + base;</span>
<span class="fc" id="L35">        inputFilename = basePath + inFileEnding;</span>
<span class="fc" id="L36">        outputFilename = basePath + outFileEnding;</span>
<span class="fc" id="L37">    }</span>

    /**
     * Temporary directory name for commands that use file i/o
     * &lt;p&gt;
     * Corresponds to the {@link Executrix#DIR} usage in the legacy Executrix API
     * &lt;/p&gt;
     * 
     * @return temp directory name
     */
    public String getTempDir() {
<span class="fc" id="L48">        return tempDir;</span>
    }

    /**
     * Pseudorandom value intended to help ensure unique temporary filenames
     * &lt;p&gt;
     * Corresponds to the {@link Executrix#BASE} usage in the legacy Executrix API
     * &lt;/p&gt;
     * 
     * @return Pseudorandom key for this instance
     * @deprecated this property should be considered internal-use only and will likely be removed
     */
    @Deprecated
    public String getBase() {
<span class="fc" id="L62">        return base;</span>
    }

    /**
     * Pseudorandom sub-path intended to help ensure unique temporary filenames
     * &lt;p&gt;
     * Corresponds to the {@link Executrix#BASE_PATH} usage in the legacy Executrix API
     * &lt;/p&gt;
     * 
     * @return Pseudorandom sub-path
     * @deprecated this property should be considered internal-use only and will likely be removed
     */
    @Deprecated
    public String getBasePath() {
<span class="fc" id="L76">        return basePath;</span>
    }

    /**
     * Pseudo-random value intended to help ensure unique input filenames
     * &lt;p&gt;
     * Corresponds to the {@link Executrix#IN} usage in the legacy Executrix API
     * &lt;/p&gt;
     * 
     * @return Input filename path, relative to the {@link #getTempDir()} value
     */
    public String getIn() {
<span class="fc" id="L88">        return in;</span>
    }

    /**
     * Pseudo-random value intended to help ensure unique output filenames
     * &lt;p&gt;
     * Corresponds to the {@link Executrix#OUT} usage in the legacy Executrix API
     * &lt;/p&gt;
     * 
     * @return Output filename path, relative to the {@link #getTempDir()} value
     */
    public String getOut() {
<span class="fc" id="L100">        return out;</span>
    }

    /**
     * Input filename for commands that use file input
     * &lt;p&gt;
     * Corresponds to the {@link Executrix#INPATH} usage in the legacy Executrix API
     * &lt;/p&gt;
     * 
     * @return input filename
     */
    public String getInputFilename() {
<span class="fc" id="L112">        return inputFilename;</span>
    }

    /**
     * Output filename for commands that generate file output
     * &lt;p&gt;
     * Corresponds to the {@link Executrix#OUTPATH} usage in the legacy Executrix API
     * &lt;/p&gt;
     * 
     * @return Output filename
     */
    public String getOutputFilename() {
<span class="fc" id="L124">        return outputFilename;</span>
    }

    @Override
    public String toString() {
<span class="nc" id="L129">        return &quot;TempFileNames{&quot; +</span>
                &quot;tempDir='&quot; + tempDir + '\'' +
                &quot;, base='&quot; + base + '\'' +
                &quot;, basePath='&quot; + basePath + '\'' +
                &quot;, in='&quot; + in + '\'' +
                &quot;, out='&quot; + out + '\'' +
                &quot;, inputFilename='&quot; + inputFilename + '\'' +
                &quot;, outputFilename='&quot; + outputFilename + '\'' +
                '}';
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>